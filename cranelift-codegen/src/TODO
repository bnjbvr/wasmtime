TODO:

- Sketch regalloc `Function` trait, and implement it for VCode.

- Build top-level compilation pipeline. Invoke branch-splitting; lowering;
  placeholders for regalloc and code emission.

- ImmLogic: implement the algorithm to determine whether an immediate can be
  encoded as a logical immediate.

- Add opcodes to lowering. ALU, loads/stores, control flow.

- Binary emission
  - Straight-line code
  - Relocs and control flow
  - Constant pool?

- Integration with regalloc once minira is ready.

- Prologue and epilogue generation

- Integrate back into toplevel API: fork the compilation pipeline after
  machine-independent ops.
