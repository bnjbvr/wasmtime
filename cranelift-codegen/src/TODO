TODO:

- Rebuild lowering in more direct form, without pattern system (materialize a
  value in a particular context instead).

- Integrate old regalloc for now. Fit into Cranelift IR's CFG. Abstract the
  use/def interface and spill/fill insertion.

- ABI integration.
  - register constraints at call to force parameters into registers and return
    value out of register?

- Prologue/epilogue integration.
  - standard FP-save boilerplate
  - stackframe setup: spill slots + used callee-saves

- Fill out the patterns.
  - definitions of insns in meta/src/shared/instructions.rs.

- Encoding backend.
