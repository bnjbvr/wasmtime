TODO:

- Generalize the ctx as a trait, and create a machine-specific ctx.

- Instead of a reg, let the MachInst refer to a Value as a register.

- Fill out the patterns.
  - definitions of insns in meta/src/shared/instructions.rs.

- Wire up MachInst to regalloc. Figure out how to generalize over MachRegs and
  existing Value infra. Figure out how to generalize over move/spill/fill
  insertion.
  - Perhaps we need to move back to storing MachInsts like we do Encodings
    currently. The only tricky bit is where to store the registers.

- ABI integration.

- Prologue/epilogue integration.

- Encoding backend.
